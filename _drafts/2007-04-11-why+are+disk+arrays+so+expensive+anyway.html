---
layout: post
title: Why Are Disk Arrays So Expensive Anyway
date: '2007-04-11T15:39:00.000-07:00'
author: Larry Reid
tags: 
modified_time: '2007-04-11T15:40:24.106-07:00'
blogger_id: tag:blogger.com,1999:blog-5778824359157275227.post-7390735756152568296
---

Why is there such a price difference? Part of the answer is that we've gone from RAID (redundant array of inexpensive disks) to RAFED (redundant array of really expensive disks). The disk drives themselves in a large SAN-attached disk array are more expensive than a desktop or server disk drive.<br /><br />For example, a significant part of the price difference between the EVA and the FAS that I quoted above is that the EVA was configured with 300 GB 15,000 rpm fibre channel disks, while the FAS was configured with 500 GB SATA disks (I think they were 10,000 rpm). Your typical desktop disks are 7,200 rpm. The speed of rotation and the connection technology affect how quickly data gets read from or written to the disk.<br /><br />According to conventional wisdom, another reason for the price difference is the quality of the disk. Desktop disks don't need to meet the always-on duty cycle for servers or disk arrays. Some recent <a href="http://www.usenix.org/events/fast07/tech/schroeder.html">real-world research</a> (and <a href="http://storagemojo.com/?p=383">commentary</a>) challenges this assumption. It appears that the <a href="http://en.wikipedia.org/wiki/MTBF">MTBF</a> that many manufacturers quote is difficult to support in the real world, and that disk life may depend far more on the conditions the disk operates under rather than the quality of the disk itself. Desktop disks may fail more often simply because they tend to be in nastier environments than server disks, which typically sit in a nice, clean environmentally controlled data centre.<br /><br />Another significant costs is simply the controller and infrastructure around a large disk array. In the case of the EVA8000, about 30 percent of the cost per TB is actually the cost of the controller and essential software. For the FAS 3020, the controller is about 10 percent.<br /><br />Controllers are expensive because they need a lot of memory for cache and buffers, batteries to keep cache alive during failures, and a significant amount of computing power to support different RAID levels and provide adequate performance when many servers are using the same disk array.<br /><br />Performance actually becomes the reason for more expensive disks as well. Fibre channel disks can provide perhaps three times as many I/O operations, which in certain usage patterns (like database transactions) may be critical to getting higher performance.<br /><br /><br />When I did a total cost of ownership calculation for SAN-attached disk arrays, the biggest factor in favour of SAN was the usage factor. When you have direct-attached disk on servers, you typically over-allocate the disk by a wide margin, because adding disk at a later time is a pain. With SAN-attached storage you can pop some more disks into the disk array and, depending on the operating system, you can increase the storage available in a relatively easy way.<br /><br />Therefore, if you manage your SAN-attached storage on a just-in-time basis, you can achieve perhaps 80 percent utilization of the disk, whereas in a typical group of servers using direct attached storage you might have 20 percent utilization. This four-t0-one price difference is significant, but it isn't a ten to one difference.<br /><br />A final advantage typically mentioned for SAN-attached storage is the reduced management cost. It's hard not to think that centrally managed storage would be better. However, the line managers who staff the storage management and server admin positions won't offer to give up any staff when they buy SAN-attached storage. In fact, they'll say they need to send people on training, and they'll tell you that you can't just send any server admin on the training course. You need to have your best people working with SAN. The reality is that pretty much any server admin can add direct-attached disk to a server and move the data around.