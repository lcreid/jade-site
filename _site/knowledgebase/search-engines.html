<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

<!-- Latest compiled and minified CSS -->
<!-- Bootstrap -->
<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> -->
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<title>Jade Systems Inc Search Engines</title>

<link rel="stylesheet" type="text/css" href="/assets/application-98e9166b77607c63af11de4f07aed958edd44e8355dc75436ac5945ad306053f.css">
<script src="/assets/application-bc6cebb457ee48a536dd089669e1fefc9f8a6b424ed4799b4258b566e2ee29d7.js" type="text/javascript"></script>
<!-- TODO: Remove the following line as see what happens -->
<link href="https://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css" rel="stylesheet">
<link href='//fonts.googleapis.com/css?family=Droid+Sans:400,700|Signika+Negative:400,700' rel='stylesheet' type='text/css'>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

<!-- you don't need to keep this, but it's cool for stats! -->
<meta name="generator" content="jekyll">

  </head>
  <body>
    <div class="container-fluid">
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="/">Jade Systems Inc</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse">
      <ul class="navbar-nav w-100">
        <li class="nav-item dropdown">
          <a href="#" class="nav-item mx-md-4 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Knowledgebase</span></a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="/knowledgebase/">Overview</a>
            <a class="dropdown-item" href="/knowledgebase/static-web-sites.html">Static Web Sites</a>
            <a class="dropdown-item" href="/knowledgebase/search-engines.html">Search Engines</a>
          </div>
        </li>
        <li><a class="nav-item mx-md-4" href="/blog/">Blog</a></li>
        <li><a class="nav-item mx-md-4" href="/contact/">Contact Us</a></li>
      </ul>

      <!-- <form class="form-inline ml-auto">
        <div class="form-group">
          <input type="text" placeholder="Search" class="form-control" id="search" name="query" value="" autocomplete="off" />
        </div>
        <button type="button" class="btn btn-success" id="search-button">Search</button>
      </form> -->
    </div>
  </nav>
</div>

<div class="container">
  <div id="search-results">
    <div id="clear-results" class="clear-button" style="display: block;">&nbsp;</div>
    <ul id="search-results-list"></ul>
    <div id="pagination-outer-container">
      <div id="pagination-inner-container" class="text-center mx-auto">
        <div id="pagination"></div>
      </div>
    </div>
  </div>
</div>

    <section class="mt-2">
      <div class="container">
        <div class="row justify-content-around">
          <div class="col-12 col-lg-8">
            <h1 id="search-engines">Search Engines</h1>
<p>I wanted to make the <a href="https://jadesystems.ca">Jade Systems site</a> searchable. No problem, I thought. There’s lots of open source tools out there. My main goal was to have the sort of intelligent searching the Google does. People have been used to not having to worry about plural versus singular, or synonyms, or a myriad of other linguistic variations that don’t really change the intent or semantics of a search.</p>

<p>After some searching, I settled on <a href="http://lucene.apache.org/solr/">Solr</a> for the searching, and <a href="http://nutch.apache.org/">Nutch</a> for the crawling and creating of the index. The main reason I chose them was probably that as Apache Foundation projects, they were clearly licensed for my use, and weren’t likely to suffer a change in licensing.</p>

<p>After some non-trivial effort, I created a <a href="https://github.com/lcreid/solr-nutch-vagrant">search engine Vagrant box</a> that would run a crawl and search engine. This let me test and learn about searching in my own network. I could index my static web site (generated at the time with Nanoc, but since migrated to Jekyll) with Nutch and then have the static web site query the search engine and display results.</p>

<p>When that was all working, I used the Vagrant provisioning scripts to create a stand-alone VM that I ran on my basement server. I set some forwarding on my router to let traffic through, and deployed my web site to a server. This worked relatively well, as long as my home IP didn’t change.</p>

<p>A year or two later, along came <a href="https://letsencrypt.org/">Let’s Encrypt</a>, and now it was practical to apply HTTPS to the Jade site. As soon as I did so, the search broke because the browser wouldn’t go from a secure site to a non-secure site.</p>

<p>I started down the road of fixing it, but of course Solr and Nutch had moved up a number of versions, so they needed changes. Also, I’ve never been a Java person, so the whole stack on the search server was something that I was barely able to run at the best of times. Finally, since Solr and Nutch are Apache projects, they have huge amounts of documentation. Unfortunately, my brain can’t read hundreds of pages and keep the relevant material in my head, just to decide what I need to do in order to make the software work for me.</p>

<p>To make a long story short, I’ve temporarily abandoned search on the Jade Systems site. I hope to get back to the problem in the near future.</p>

<p>Aside: For non-static web sites that use <a href="https://www.postgresql.org/">Postgres</a>, its built-in full-text search does a pretty good job of search.</p>

          </div>
        </div>
      </div>
    </section>
    <div class="fixed-bottom bg-white">
  <hr>
  <footer class="text-center mb-2">
    This site was built by Jade Systems Inc using
    <a href="https://jekyllrb.com">Jekyll</a>.
    Layout and styling by <a href="https://getbootstrap.com">Bootstrap</a>.
    <!-- Search by <%= link_to("Solr", "http://lucene.apache.org/solr", target: "_blank") %>.
    Crawl by <%= link_to("Nutch", "http://nutch.apache.org/", target: "_blank") %>. -->
  </footer>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1728165-2', 'jadesystems.ca');
    ga('send', 'pageview');
  </script>

  <script type="text/javascript" src="/js/jquery.simplePagination.js"></script>
  <script src="/js/jadesystems_namespace.js"></script>
  <script src="/js/dev.js"></script>
  <script src="/js/search.js"></script>
</div>

  </body>
</html>
