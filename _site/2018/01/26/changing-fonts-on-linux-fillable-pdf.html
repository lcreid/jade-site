<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

<!-- Latest compiled and minified CSS -->
<!-- Bootstrap -->
<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> -->
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<title>Jade Systems Inc Changing Fonts on Linux Fillable PDF Forms</title>

<link rel="stylesheet" type="text/css" href="/assets/application-12da5280a458727aaeb8688175d798b537281705752dd2bdc70cc4e5d9c5a0c0.css">
<script src="/assets/application-da8cbe894a308e89b1a3507e6010f3ac382cbf2d7b8ae2cdc365edd2b1a50ea9.js" type="text/javascript"></script>
<!-- TODO: Remove the following line as see what happens -->
<link href="https://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css" rel="stylesheet">
<link href='//fonts.googleapis.com/css?family=Droid+Sans:400,700|Signika+Negative:400,700' rel='stylesheet' type='text/css'>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

<!-- you don't need to keep this, but it's cool for stats! -->
<meta name="generator" content="jekyll">

  </head>
  <body>
    <div class="container-fluid">
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="/">Jade Systems Inc</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse">
      <ul class="navbar-nav w-100 mx-md-4">
        <li class="nav-item dropdown">
          <a href="#" class="nav-item dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Knowledgebase</span></a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="/knowledgebase.html">Overview</a>
            <a class="dropdown-item" href="/knowledgebase/static-web-sites.html">Static Web Sites</a>
            <a class="dropdown-item" href="/knowledgebase/search-engines.html">Search Engines</a>
          </div>
        </li>
        <li><a class="nav-item mx-md-4" href="/blog.html">Blog</a></li>
        <li><a class="nav-item mx-md-4" href="/contact.html">Contact Us</a></li>
      </ul>

      <!-- <form class="form-inline ml-auto">
        <div class="form-group">
          <input type="text" placeholder="Search" class="form-control" id="search" name="query" value="" autocomplete="off" />
        </div>
        <button type="button" class="btn btn-success" id="search-button">Search</button>
      </form> -->
    </div>
  </nav>
</div>

<div class="container">
  <div id="search-results">
    <div id="clear-results" class="clear-button" style="display: block;">&nbsp;</div>
    <ul id="search-results-list"></ul>
    <div id="pagination-outer-container">
      <div id="pagination-inner-container" class="text-center mx-auto">
        <div id="pagination"></div>
      </div>
    </div>
  </div>
</div>

    <section class="mt-2">
      <div class="container">
        <div class="row justify-content-around">
          <div class="col-12 col-lg-8">
            <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Changing Fonts on Linux Fillable PDF Forms</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-01-26T19:50:00+00:00" itemprop="datePublished">Jan 26, 2018
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Larry Reid</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changing Fonts on Linux Fillable PDF Forms</title><link rel="stylesheet" href="https://stackedit.io/res-min/themes/base.css" /><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script><style>div.container {     max-width:100%;     margin: auto; } </style></head><body><div class="container"><p>I was trying to fill out the <a href="https://www.canada.ca/content/dam/ircc/migration/ircc/english/passport/forms/pdf/pptc054.pdf">Canadian passport renewal form</a> on my Ubuntu 16.04 laptop. I was able to enter data into the fields just fine, but the font that was displayed after I left each field was almost unreadable.</p> <p>I had seen this problem before with other fillable PDFs, like for example some from the Canadian Revenue Agency, so I decided it was time to figure out the problem.</p> <p>I started by opening the form that was giving me grief, and clicked on File-&gt; Properties, and then clicked on the Fonts tab. This gave me a list of fonts. Some of them were not the standard PDF fonts, as noted by the fact that it said “Not one of the standard 14 fonts.” just below the font name. </p> <p>(Background: The PDF specification says there are 14 standard fonts that should display the same, as much as possible, in any viewer.)</p> <p>I recognized two of the fonts as likely being <a href="https://en.wikipedia.org/wiki/Monospaced_font" title="monospaced">monospaced</a> fonts based on their names. Typically, forms designers use monospaced fonts for input because they can fit the text to pre-defined boxes on the form. I noticed that below the monospaced fonts, it said they were being substituted with “DejaVu Sans”, which didn’t sound like a monospaced font to me.</p> <p>So I poked around on Google and found a few useful pages. From them, I figured out the following:</p> <p>First, I put the following into <code>~/.config/fontconfig/conf.avail/69-courierstd-to-couriernew.conf</code>:</p> <pre class="prettyprint"><code class=" hljs xml"><span class="hljs-pi">&lt;?xml version="1.0"?&gt;</span><br /><span class="hljs-doctype">&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;</span><br /><span class="hljs-tag">&lt;<span class="hljs-title">fontconfig</span>&gt;</span><br />  <span class="hljs-tag">&lt;<span class="hljs-title">match</span> <span class="hljs-attribute">target</span>=<span class="hljs-value">"pattern"</span>&gt;</span><br />    <span class="hljs-tag">&lt;<span class="hljs-title">test</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"family"</span>&gt;</span><br />      <span class="hljs-tag">&lt;<span class="hljs-title">string</span>&gt;</span>CourierStd<span class="hljs-tag">&lt;/<span class="hljs-title">string</span>&gt;</span><br />    <span class="hljs-tag">&lt;/<span class="hljs-title">test</span>&gt;</span><br />    <span class="hljs-tag">&lt;<span class="hljs-title">edit</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"family"</span> <span class="hljs-attribute">mode</span>=<span class="hljs-value">"prepend"</span>&gt;</span><br />      <span class="hljs-tag">&lt;<span class="hljs-title">string</span>&gt;</span>Courier New<span class="hljs-tag">&lt;/<span class="hljs-title">string</span>&gt;</span><br />    <span class="hljs-tag">&lt;/<span class="hljs-title">edit</span>&gt;</span><br />  <span class="hljs-tag">&lt;/<span class="hljs-title">match</span>&gt;</span><br /><span class="hljs-tag">&lt;/<span class="hljs-title">fontconfig</span>&gt;</span></code></pre> <p>By putting it in that directory, I made it available but not enabled. To enable it, I made a symbolic link to it by doing:</p> <pre class="prettyprint"><code class=" hljs avrasm">ln -s ~/<span class="hljs-preprocessor">.config</span>/fontconfig/conf<span class="hljs-preprocessor">.avail</span>/<span class="hljs-number">69</span>-courierstd-to-couriernew<span class="hljs-preprocessor">.conf</span> ~/<span class="hljs-preprocessor">.config</span>/fontconfig/conf<span class="hljs-preprocessor">.d</span></code></pre> <p>CourierStd was one of the fonts that was in the PDF form, and was being substituted with DejaVu Sans. I knew that Courier New was a font on my system because it shows up in Libre Office Writer and other programs that deal with fonts. So the contents of the file tell Linux to use Courier New when a document asks for CourierStd.</p> <p>The way the fonts work on Ubuntu, it may take up to 30 seconds for the system to recognize the new substitution. After waiting for 30 seconds, I opened the passport renewal form again and voilà, I had Courier New on the fields I filled in.</p> <p>The above works for the logged in user. If I had more than one user ID on my system, I might have put the same file in <code>/etc/fonts/conf.avail</code>, and linked to it from <code>/etc/fonts/conf.d</code>. That would make the substitution work for all users on the system.</p> <p>From what I understand, other Linux distributions may store their fonts in different places. You can try to figure out where to put the file by reading <code>/etc/fonts/fonts.conf</code>.</p> <p>The <a href="https://wiki.ubuntu.com/Fonts">Ubuntu wiki page on fonts</a> is a good place to start if you want to learn more about fonts on Ubuntu.</p></div></body></html>
  </div><a class="u-url" href="/2018/01/26/changing-fonts-on-linux-fillable-pdf.html" hidden></a>
</article>

          </div>
        </div>
      </div>
    </section>
    <div class="fixed-bottom bg-white">
  <hr>
  <footer class="text-center mb-2">
    This site was built by Jade Systems Inc using
    <a href="https://jekyllrb.com">Jekyll</a>.
    Layout and styling by <a href="https://getbootstrap.com">Bootstrap</a>.
    <!-- Search by <%= link_to("Solr", "http://lucene.apache.org/solr", target: "_blank") %>.
    Crawl by <%= link_to("Nutch", "http://nutch.apache.org/", target: "_blank") %>. -->
  </footer>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1728165-2', 'jadesystems.ca');
    ga('send', 'pageview');
  </script>

  <script type="text/javascript" src="/js/jquery.simplePagination.js"></script>
  <script src="/js/jadesystems_namespace.js"></script>
  <script src="/js/dev.js"></script>
  <script src="/js/search.js"></script>
</div>

  </body>
</html>
